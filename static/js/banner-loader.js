let bannerPositionMap={hero_banner:"hero-banner",between_hero_stats:"banner-1",between_treatment_categories:"banner-2",between_popular_procedures:"banner-3",between_top_specialists:"banner-4",between_community_posts:"banner-5",before_footer:"banner-6"};function generateBannerHTML(e){if(!e.slides||0===e.slides.length)return"";var n=1<e.slides.length;let o=`<div class="banner-slider${n?" needs-slider":""}" id="${"banner-slider-"+e.id}">`;return o+='<div class="slides">',e.slides.forEach((e,n)=>{o+=`
            <div class="slide${0===n?" active":""}" data-slide-id="${e.id}">
                <a href="${e.redirect_url}" class="banner-link" data-slide-id="${e.id}">
                    <div class="slide-content" style="background-image: url('${e.image_url}');">
                        <!-- Text container removed as requested -->
                    </div>
                </a>
            </div>
        `}),o+="</div>",n&&(o=o+`
            <button class="slide-nav prev" aria-label="Previous slide">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slide-nav next" aria-label="Next slide">
                <i class="fas fa-chevron-right"></i>
            </button>
        `+'<div class="slide-dots">',e.slides.forEach((e,n)=>{o+=`<button class="slide-dot${0===n?" active":""}" data-slide-index="${n}" aria-label="Go to slide ${n+1}"></button>`}),o+="</div>"),o+="</div>"}function loadBannerContent(r,t){console.log(`Loading banner content for position ${r} into container:`,t);let a=t.querySelector(".banner-loader");a?a.style.display="block":console.warn("Loader not found in container for position "+r),fetch("/api/banners/"+r).then(e=>(console.log(`API response status for ${r}:`,e.status),e.json())).then(e=>{var n,o;console.log(`API data for ${r}:`,e),a&&(a.style.display="none"),e.success&&e.banner?(console.log("Successfully loaded banner for "+r,e.banner),n=generateBannerHTML(e.banner),(o=document.createElement("div")).className="banner-content",o.innerHTML=n,(n=t.querySelector(".banner-content"))?t.replaceChild(o,n):t.appendChild(o),e.banner.slides&&1<e.banner.slides.length&&(console.log("Initializing slider for banner "+e.banner.id),n="banner-slider-"+e.banner.id,(o=document.getElementById(n))?initSingleSlider(o):console.error("Slider element not found: "+n)),e=t.querySelectorAll(".banner-link"),console.log(`Found ${e.length} banner links to track clicks`),e.forEach(e=>{e.addEventListener("click",function(e){var n=this.getAttribute("data-slide-id");console.log("Banner slide clicked: "+n),fetch(`/api/banners/slide/${n}/click`,{method:"POST",headers:{"Content-Type":"application/json"}}).catch(e=>{console.error("Error recording banner click:",e)})})})):(console.warn(`No banner data for position ${r} or API error`),t.style.display="none")}).catch(e=>{console.error(`Error loading banner for position ${r}:`,e),a&&(a.style.display="none"),t.style.display="none"})}function loadBanner(e){var n=bannerPositionMap[e];if(n){console.log("Looking for container with ID: "+n);var o=document.getElementById(n);if(!o)return console.error("Banner container not found: "+n),console.log("Trying alternative selector method"),(n=document.querySelector(`#${n}, .banner-container[id="${n}"]`))?(console.log("Found container using alternative selector:",n),void loadBannerContent(e,n)):void console.error("Container not found with alternative method either");loadBannerContent(e,o)}else console.error("Unknown banner position: "+e)}document.addEventListener("DOMContentLoaded",function(){console.log("Banner loader started"),Object.values(bannerPositionMap).forEach(e=>{var n=document.getElementById(e);console.log(`Container "${e}" exists:`,!!n),n&&console.log(`Container "${e}" HTML:`,n.outerHTML)}),Object.keys(bannerPositionMap).forEach(e=>{console.log("Loading banner for position: "+e),loadBanner(e)})});