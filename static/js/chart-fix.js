document.addEventListener("DOMContentLoaded",function(){console.log("Chart Fix loaded, initializing charts with sample data...");var o=[{topic:"cost",count:2},{topic:"rhinoplasty",count:1},{topic:"recovery",count:1}],e=[{body_part:"Face",count:5},{body_part:"Breast",count:1}],t=document.getElementById("trendingTopicsChart"),i=document.getElementById("bodyPartDistributionChart");if(t){console.log("Found trending topics chart element, initializing with sample data...");let a;try{a=JSON.parse(t.dataset.topics||"[]"),console.log("Parsed topics data:",a),0===a.length&&(console.log("No topics data, using sample data for testing"),a=o)}catch(t){console.error("Error parsing topics data:",t),a=o}var o=a.map(t=>t.topic),n=a.map(t=>t.count);new Chart(t.getContext("2d"),{type:"bar",data:{labels:o,datasets:[{label:"Mentions",data:n,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1,precision:0}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return t.parsed.y+" mentions"}}}}}}),console.log("Trending topics chart created successfully")}if(i){console.log("Found body part chart element, initializing with sample data...");let a;try{a=JSON.parse(i.dataset.distribution||"[]"),console.log("Parsed distribution data:",a),0===a.length&&(console.log("No distribution data, using sample data for testing"),a=e)}catch(t){console.error("Error parsing distribution data:",t),a=e}t=a.map(t=>t.body_part),o=a.map(t=>t.count),n=["rgba(54, 162, 235, 0.7)","rgba(255, 99, 132, 0.7)","rgba(75, 192, 192, 0.7)","rgba(255, 206, 86, 0.7)","rgba(153, 102, 255, 0.7)"],e=n.map(t=>t.replace("0.7","1"));new Chart(i.getContext("2d"),{type:"pie",data:{labels:t,datasets:[{data:o,backgroundColor:n.slice(0,o.length),borderColor:e.slice(0,o.length),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:function(t){var a=t.label||"",o=t.raw||0,t=t.dataset.data.reduce((t,a)=>t+a,0);return a+`: ${o} threads (${Math.round(o/t*100)}%)`}}}}}}),console.log("Body part distribution chart created successfully")}});