option_settings:
  aws:elasticbeanstalk:application:environment:
    # Database configuration will be set via EB environment variables
    # These are placeholders - actual values should be set in EB console
    DATABASE_URL: "postgresql://username:password@your-rds-endpoint:5432/antidote_db"
    
container_commands:
  01_migrate:
    command: "python -m flask db upgrade"
    leader_only: true
  02_create_tables:
    command: "python -c 'from app import create_app; from models import *; app = create_app(); app.app_context().push(); from app import db; db.create_all()'"
    leader_only: true